(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66abb206"],{"31b5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAq5JREFUWEfNl01IFGEYx3+PuxQERZegQwQhdPESCZ2KfZUwpIwiFCK/dieTLkFEQafs2KnASxrOepAOiZUoSkbt7EqnkjoUHfs4VBBdiiQy54lZHd1dVp39rLm9M8/7/H/zf59553mFnMvY2q9Kkwh7c5+VNBbeoEw7MbmcmUcyByauD1BOAA5KMpBgDRooDlpR6hTsZEwsf84KgInrNZQ+lIuOJbcCJg0cZuK6HbiJ0u0qR1KWzHiTVwAito4JNC4ou59Z8iNw5gICja3HgAkVLiSj0p8FYGxNeDecmDQUkLPgUGOrolx3LOkLBBCJa6u41K2ptE4NCDxPRGUqq84KBUgTF385uY5W1YHFMIOzHfK5JAeKf/n8Mwt24L8BMHfUBIVxesRZK7YoBzJ2yGAMwkMnKifzBRcF0DCs9bpISzB1kBATiW6ZKxtAUOEgcUU5ECRx0JiSAcyQdiN05RUUok5U3q8HUzJAxNYBgXN5RTL2+LJ+BUHt9eOaR3TbdLt8/2dFaIbUQmgXeKkfueL0yR8fpuQlCOKGies+Ua4q1AChTWE6Zjrlpzf3kK07ZmPy1c+z2hGVuR8wQzqJcHRZ6FEoxJknXfIt9wUqBtA8pZvnv3BP4Hi68RBSYZfTjy35lAlRMQBPxCvG+QVGRWlaFn3hhmlLdcq7ii+BL+CteQjuAwfT95TXrktbqkfepp3JqM6K9YRmRHfpb8YF9ovSj7AzEZO2qgF4Qo3DWqsulxQO1LicenpWPlQVwHe6ZUC3TPTKfNVqYKN9Y6UGGmy9q3AYYbcTlV8bTSz2uYlrHGXMiclk9hKsHs3OO5bcLlZg3T+h19aFSAj0JmIymAXgDZZPR17v9wplvKwQQgSoB7Yi7PF/21mn4zTEkhMdQG1ZAZaSzalwIxmVUT/3XzrRkTAYpS3TAAAAAElFTkSuQmCC"},3846:function(e,t,s){s("9e1e")&&"g"!=/./g.flags&&s("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:s("0bfb")})},"6b54":function(e,t,s){"use strict";s("3846");var i=s("cb7c"),n=s("0bfb"),r=s("9e1e"),a="toString",o=/./[a],c=function(e){s("2aba")(RegExp.prototype,a,e,!0)};s("79e5")((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?c((function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?n.call(e):void 0)})):o.name!=a&&c((function(){return o.call(this)}))},"759f":function(e,t,s){"use strict";var i=s("5ca1"),n=s("0a49")(3);i(i.P+i.F*!s("2f21")([].some,!0),"Array",{some:function(e){return n(this,e,arguments[1])}})},"7f7f":function(e,t,s){var i=s("86cc").f,n=Function.prototype,r=/^\s*function ([^ (]*)/,a="name";a in n||s("9e1e")&&i(n,a,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},"81d4":function(e,t,s){},"87b3":function(e,t,s){var i=Date.prototype,n="Invalid Date",r="toString",a=i[r],o=i.getTime;new Date(NaN)+""!=n&&s("2aba")(i,r,(function(){var e=o.call(this);return e===e?a.call(this):n}))},"8aed":function(e,t,s){"use strict";s("81d4")},fdce:function(e,t,s){"use strict";s.r(t);s("7f7f");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"examination-wrap bg-f5"},[t("div",{staticClass:"examination pt20 pb20 clearfix"},[t("div",{staticClass:"examination-left fl"},[t("div",{staticClass:"bg-white pad15 mb20"},[t("div",{staticClass:"clearfix bor-bottom-eee pb15 pt10"},[t("h1",{staticClass:"fl fz26 fb"},[e._v(e._s(e.examName)+": "+e._s(e.form.examName))]),t("span",{staticClass:"tag fr"},[e._v("答题中")])]),t("div",{staticClass:"pt10"},[t("p",{staticClass:"color-666"},[e._v(e._s(e.form.examDesc))])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.checked&&e.errorQuestions.length>0||!e.checked&&e.questionList.length>0,expression:"(checked && errorQuestions.length > 0) || (!checked && questionList.length > 0)"}],staticClass:"bg-white pad15 mb20"},[t("div",{staticClass:"bor-bottom-eee pb20 pt10 pl10"},[t("span",{staticClass:"title-2"},[e._v(e._s("1"==e.form.questionType?"单选题":"2"==e.form.questionType?"多选题":"问答题"))]),"en"===e.form.examLanguage?t("el-checkbox",{staticStyle:{float:"right"},attrs:{label:"显示中文"},model:{value:e.isShowCn,callback:function(t){e.isShowCn=t},expression:"isShowCn"}}):e._e()],1),t("div",{staticClass:"topic"},[t("div",{staticClass:"topic-item clearfix"},[t("div",{staticClass:"topic-item-label fl"},[t("div",{staticClass:"inlineb tc"},[t("span",{staticStyle:{height:"18px","background-color":"#2771ea","border-radius":"3px","line-height":"18px",color:"#fff",padding:"0 6px"}},[e._v(e._s(e.currentQuestionIndex+1))])])]),t("div",{staticClass:"topic-item-block fl"},[t("div",{staticClass:"clearfix"},[t("pre",{staticClass:"fl",staticStyle:{width:"calc(100% - 60px)"},domProps:{innerHTML:e._s(e.form.questionNameEn)}}),t("div",{staticClass:"fr"},[t("span",{staticClass:"topic-item-score mr10"},[e._v(e._s(e.form.questionPoint)+"分")]),"1"===e.form.favorites?t("i",{staticClass:"iconfont icon-shoucang_shixin",staticStyle:{color:"#ff5930",cursor:"pointer"},on:{click:function(t){return e.handleSign(e.form)}}}):t("i",{staticClass:"iconfont icon-shoucang",staticStyle:{color:"#999",cursor:"pointer"},on:{click:function(t){return e.handleSign(e.form)}}})])]),e.isShowCn?t("p",{staticClass:"color-999 mt5",domProps:{innerHTML:e._s(e.form.questionNameCn)}}):e._e(),"1"==e.form.questionType?t("el-radio-group",{staticClass:"mt10",model:{value:e.form.selectAnswer,callback:function(t){e.$set(e.form,"selectAnswer",t)},expression:"form.selectAnswer"}},e._l(e.form.answerList,(function(s,i){return t("el-radio",{key:i,staticClass:"mb5",attrs:{label:s.id,disabled:e.getSubmitFlag()}},[t("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[t("p",{staticClass:"color-666",staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:e._s(s.answerContentEn)}}),e.isShowCn?t("p",{staticClass:"color-999",staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:e._s(s.answerContentCn)}}):e._e()])])})),1):e._e(),"2"==e.form.questionType?t("el-checkbox-group",{staticClass:"mt10",model:{value:e.form.selectAnswer,callback:function(t){e.$set(e.form,"selectAnswer",t)},expression:"form.selectAnswer"}},e._l(e.form.answerList,(function(s,i){return t("el-checkbox",{key:i,staticClass:"mb5",staticStyle:{display:"block"},attrs:{label:s.id,disabled:e.getSubmitFlag()}},[t("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[t("p",{staticClass:"color-666",staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:e._s(s.answerContentEn)}}),e.isShowCn?t("p",{staticClass:"color-999",staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:e._s(s.answerContentCn)}}):e._e()])])})),1):e._e(),"3"!=e.form.questionType||e.getSubmitFlag()?e._e():t("div",{staticStyle:{"padding-top":"20px"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入",disabled:!e.inAnswer},model:{value:e.form.selectAnswer,callback:function(t){e.$set(e.form,"selectAnswer",t)},expression:"form.selectAnswer"}})],1),e.getSubmitFlag()?t("div",{staticClass:"bor-top-eee mt10"},[t("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},["3"==e.form.questionType?t("p",{staticClass:"color-999 pt15 pb15"},[e.form["selectAnswer"]?t("span",[e._v("你的答案："+e._s(e.form["selectAnswer"]))]):e._e()]):t("p",{staticClass:"color-999 pt15 pb15"},[e._v("正确答案："),t("span",{staticStyle:{color:"#46c37b"}},[e._v(e._s(e.getAnswerKey(e.form,e.form["correctAnswer"])))]),e._v("， 你的答案： "),t("span",{staticStyle:{color:"#ff5c2f"}},[e._v(e._s(e.getAnswerKey(e.form,e.form["selectAnswer"])?e.getAnswerKey(e.form,e.form["selectAnswer"]):"未作答"))])]),e.form.appId&&e.form.fileId&&e.form.psign?t("div",{staticStyle:{color:"#2771ea"}},[t("i",{staticClass:"iconfont icon-shipinbofang mr5"}),t("span",{staticStyle:{"margin-top":"5px",display:"inline-block",color:"#2771ea",cursor:"pointer"},on:{click:function(t){return e.handleViewVideo(e.form)}}},[e._v("查看讲解视频")])]):e._e()]),t("div",{staticClass:"pt10 pb10 pl15 pr20",staticStyle:{"background-color":"#f5f7fb",display:"flex"}},[t("div",{staticStyle:{width:"55px"}},[e._v("解析：")]),e.form.clarify?t("div",{staticClass:"color-999",class:e.form.isSpread&&"clarify-spread",staticStyle:{flex:"1","word-break":"break-all"},domProps:{innerHTML:e._s(e.decode(e.form.clarify))}}):t("div",{staticClass:"color-999"},[e._v("暂无解析")])]),e.form.clarify?t("div",{staticClass:"tr pr20 pb10",staticStyle:{"background-color":"#f5f7fb"}},[t("span",{staticStyle:{color:"#2771ea",cursor:"pointer"},on:{click:function(t){return e.handleSpread(e.form)}}},[e._v(e._s(e.form.isSpread?"查看更多 >":"收起"))])]):e._e()]):e._e()],1)])])])]),t("div",{staticClass:"examination-right fr"},[t("div",{staticClass:"examination-right-fixed"},[t("div",{staticClass:"pad15 br4 bg-white",attrs:{id:"answerSheet"}},[t("div",{staticClass:"bor-bottom-eee pb10",staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[t("span",{staticClass:"title-2 fb"},[e._v("答题卡")]),t("div",[t("button",{staticClass:"theme-btn",on:{click:e.handleRedo}},[e._v("重 做")]),t("button",{staticClass:"theme-btn",staticStyle:{"margin-left":"10px"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返 回")])])]),e._m(0),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowAnswerSheet,expression:"!isShowAnswerSheet"}],staticClass:"answer-sheet-wrap pt10"},e._l(e.answerSheetList,(function(s,i){return t("div",{key:i,staticClass:"answer-sheet"},[s.list.length?t("div",{staticStyle:{"margin-bottom":"5px"}},[e._v(e._s(s.name))]):e._e(),e._l(s.list,(function(s,i){return t("a",{key:i,class:[e.getStatusClass(s)],on:{click:function(t){return e.goAnchor(s)}}},[e._v("\n                "+e._s(s.index+1)+"\n              ")])}))],2)})),0),t("div",{staticClass:"tc pt20 pb10"},[t("button",{staticClass:"theme-btn mr20",attrs:{disabled:0===e.currentQuestionIndex},on:{click:e.handlePrev}},[t("i",{staticClass:"el-icon-back"})]),t("button",{staticClass:"theme-btn mr20",attrs:{disabled:e.getSubmitFlag()},on:{click:e.handleSubmit}},[e._v("提交")]),t("button",{staticClass:"theme-btn mr20",attrs:{disabled:e.currentQuestionIndex===e.questionList.length-1||e.questionList.length&&"3"===e.questionList[e.currentQuestionIndex].status},on:{click:e.handleNext}},[t("i",{staticClass:"el-icon-right"})])])])])])]),t("div",{staticClass:"go-answer-sheet",on:{click:function(t){return e.goAnchor("answerSheet")}}},[t("img",{attrs:{src:s("31b5"),alt:""}})]),e.dialogVisible?t("el-dialog",{attrs:{visible:e.dialogVisible,title:"视频播放",width:"800px","append-to-body":"","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticStyle:{width:"100%",height:"400px",overflow:"hidden"}},[e.dialogVisible?t("video",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"player-container",preload:"auto",width:"100%",height:"400",playsinline:"","webkit-playsinline":"","x5-playsinline":""}}):e._e()])]):e._e()],1)},n=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"ibs-card-body__explain pt10"},[t("span",{staticClass:"ibs-success-bg"}),t("small",[e._v("正确")]),t("span",{staticClass:"ibs-danger-bg"}),t("small",[e._v("错误")]),t("span",{staticClass:"ibs-tip-bg"}),t("small",[e._v("未答")])])}],r=(s("6b54"),s("87b3"),s("759f"),s("6d67"),s("28a5"),s("4f37"),s("cabd")),a=s("e762"),o={name:"Examination",components:{},data:function(){return{inAnswer:!0,isShowAnswerSheet:!1,radio:"",checked:"",questions:[],questionList:[],errorQuestions:[],fixed:!1,form:{},remainingTime:"",remainingTimeS:"",timer:null,overForm:{},inputValue:"",dialogVisible:!1,isShowCn:!1,player:null,currentQuestionId:"",currentAnswerId:void 0,currentTypes:"1",currentQuestionIndex:0,answerSheetList:[]}},computed:{examName:function(){return this.$route.query.examName}},created:function(){var e=this;this.GetSequenceExam("first"),window.onscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;e.fixed=t>160}},methods:{isBase64:function(e){if(""===e||""===e.trim())return!1;try{return btoa(atob(e))==e}catch(t){return!1}},decode:function(e){return e?this.isBase64(e)?a["a"].decode(e):decodeURI(e):""},handleViewVideo:function(e){var t=this;e.appId&&e.fileId&&e.psign?(this.dialogVisible=!0,setTimeout((function(){t.player=TCPlayer("player-container",{fileID:e.fileId,appID:e.appId,psign:e.psign})}),1e3)):this.$message.error("视频不存在")},handleClose:function(){this.dialogVisible=!1,this.player&&this.player.dispose(),this.player=null},handleSpread:function(e){e.isSpread=!e.isSpread,this.$forceUpdate()},GetSequenceExam:function(e){var t=this,s=this.$loading({lock:!0,text:"处理中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),i={userId:this.$store.state.user.userId,questionId:this.currentQuestionId,examId:this.$route.query.examId,paperId:this.$route.query.paperId,questionSubject:this.$route.query.questionSubject,types:this.currentTypes,answerId:this.currentAnswerId};"next"===e&&(i.nextStatus="3"),Object(r["m"])(i).then((function(i){"2"==i.questionType&&(i.selectAnswer&&i.selectAnswer.split(",").length?(i.selectAnswer=i.selectAnswer.split(","),i.correctAnswer&&(i.correctAnswer=i.correctAnswer.split(","))):i.selectAnswer=[]),t.form=i,t.questionList=i.questionList||[],t.answerSheetList=[{name:"单选题",list:[]},{name:"多选题",list:[]},{name:"简答题",list:[]}],t.questionList.map((function(e,s){e.index=s,1==e.questionType?(e.selectAnswer=void 0,t.answerSheetList[0].list.push(e)):2==e.questionType?(e.selectAnswer=[],t.answerSheetList[1].list.push(e)):3==e.questionType&&t.answerSheetList[2].list.push(e)})),"first"===e&&t.questionList.some((function(e,s){if("3"===e.status)return t.currentQuestionIndex=s,t.currentQuestionId=e.questionId,!0})),t.getIndex(),t.$forceUpdate(),s.close()}))},getAnswerKey:function(e,t){var s=[],i=[];return t?"1"===e.questionType?i=[t]:"2"===e.questionType&&(i=t):e.answerList.map((function(e){"1"===e.correctFlag&&i.push(e.id)})),e.answerList.map((function(e){i.map((function(t){e.id===t&&s.push(e.answerContentEn.split(".")[0])}))})),s.toString()},handleSign:function(e){var t=this,s=e.favorites;s="1"==e.favorites?"0":"1",Object(r["c"])({questionId:e.questionId,favStatus:s,userId:this.$store.state.user.userId}).then((function(i){1===i.status?(e.favorites=s,"1"==s?t.$message.success("收藏成功！"):t.$message.success("取消收藏成功！")):t.$message.error(i.msg),t.$forceUpdate()}))},getStatusClass:function(e){var t="";switch(e.status){case"1":t="ibs-success-bg";break;case"0":t="ibs-danger-bg";break;case"3":t="ibs-tip-bg";break}return t},goAnchor:function(e){"string"===typeof e?document.querySelector("#"+e).scrollIntoView({behavior:"smooth"}):"0"!==e.status&&"1"!==e.status||(this.currentQuestionId=e.questionId,this.currentAnswerId=e.answerId,this.GetSequenceExam("index"))},handleAnswer:function(){this.inAnswer=!0,this.init()},handleBack:function(){this.$router.push({path:"/personal/exercise"})},handleRedo:function(){var e=this;this.$confirm("本课程下所有顺序做题进度，错题记录，收藏夹均会全部重置，是否继续重置操作？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["k"])({userId:e.$store.state.user.userId,examId:e.$route.query.examId}).then((function(t){1==t.status?(e.$message.success("重置成功！"),e.currentQuestionId="",e.currentQuestionIndex=0,e.GetSequenceExam()):e.$message.error(t.msg)}))}))},handleSubmit:function(){var e=this;"3"==this.form.questionType||this.form.selectAnswer?this.$confirm("确定要提交吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.form.selectAnswer;"2"===e.form.questionType?t=t.toString():"3"===e.form.questionType&&(t="1");var s=e.$loading({lock:!0,text:"处理中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(r["m"])({userId:e.$store.state.user.userId,questionId:e.form.questionId,answerId:t,answerSequence:e.form.answerSequence,examId:e.$route.query.examId,paperId:e.$route.query.paperId,types:e.currentTypes}).then((function(t){"2"==t.questionType&&(t.selectAnswer&&t.selectAnswer.split(",").length?(t.selectAnswer=t.selectAnswer.split(","),t.correctAnswer&&(t.correctAnswer=t.correctAnswer.split(","))):t.selectAnswer=[]),e.form=t,e.questionList=t.questionList||[],e.answerSheetList=[{name:"单选题",list:[]},{name:"多选题",list:[]},{name:"简答题",list:[]}],e.questionList.map((function(t,s){t.index=s,1==t.questionType?(t.selectAnswer=void 0,e.answerSheetList[0].list.push(t)):2==t.questionType?(t.selectAnswer=[],e.answerSheetList[1].list.push(t)):3==t.questionType&&e.answerSheetList[2].list.push(t)})),e.getIndex(),e.$forceUpdate(),s.close()}))})):this.$alert("请选择答案后在提交","提示")},getIndex:function(){var e=this;this.questionList.length&&this.questionList.map((function(t,s){t.questionId===e.currentQuestionId&&(e.currentQuestionIndex=s)}))},handlePrev:function(){this.currentQuestionIndex--,this.currentQuestionId=this.questionList[this.currentQuestionIndex].questionId,this.currentAnswerId=this.questionList[this.currentQuestionIndex].answerId,this.GetSequenceExam("prev")},handleNext:function(){"3"!==this.questionList[this.currentQuestionIndex].status?(this.currentQuestionIndex++,this.currentQuestionId=this.questionList[this.currentQuestionIndex].questionId,this.currentAnswerId=this.questionList[this.currentQuestionIndex].answerId,"3"===this.questionList[this.currentQuestionIndex].status?this.GetSequenceExam("next"):this.GetSequenceExam()):this.$message.error("请提交完之后在进行下一题！")},handleUnanswer:function(){var e=this;this.currentQuestionIndex++,this.currentQuestionId=this.questionList[this.currentQuestionIndex].questionId,this.questionList.some((function(t,s){if("3"===t.status)return e.currentQuestionIndex=s,e.currentQuestionId=t.questionId,e.GetSequenceExam("next"),!0}))},getSubmitFlag:function(){return this.questionList.length&&this.questionList[this.currentQuestionIndex]&&("0"===this.questionList[this.currentQuestionIndex].status||"1"===this.questionList[this.currentQuestionIndex].status)}}},c=o,l=(s("8aed"),s("2877")),u=Object(l["a"])(c,i,n,!1,null,"130d7d52",null);t["default"]=u.exports}}]);