(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb8cac00"],{"31b5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAq5JREFUWEfNl01IFGEYx3+PuxQERZegQwQhdPESCZ2KfZUwpIwiFCK/dieTLkFEQafs2KnASxrOepAOiZUoSkbt7EqnkjoUHfs4VBBdiiQy54lZHd1dVp39rLm9M8/7/H/zf59553mFnMvY2q9Kkwh7c5+VNBbeoEw7MbmcmUcyByauD1BOAA5KMpBgDRooDlpR6hTsZEwsf84KgInrNZQ+lIuOJbcCJg0cZuK6HbiJ0u0qR1KWzHiTVwAito4JNC4ou59Z8iNw5gICja3HgAkVLiSj0p8FYGxNeDecmDQUkLPgUGOrolx3LOkLBBCJa6u41K2ptE4NCDxPRGUqq84KBUgTF385uY5W1YHFMIOzHfK5JAeKf/n8Mwt24L8BMHfUBIVxesRZK7YoBzJ2yGAMwkMnKifzBRcF0DCs9bpISzB1kBATiW6ZKxtAUOEgcUU5ECRx0JiSAcyQdiN05RUUok5U3q8HUzJAxNYBgXN5RTL2+LJ+BUHt9eOaR3TbdLt8/2dFaIbUQmgXeKkfueL0yR8fpuQlCOKGies+Ua4q1AChTWE6Zjrlpzf3kK07ZmPy1c+z2hGVuR8wQzqJcHRZ6FEoxJknXfIt9wUqBtA8pZvnv3BP4Hi68RBSYZfTjy35lAlRMQBPxCvG+QVGRWlaFn3hhmlLdcq7ii+BL+CteQjuAwfT95TXrktbqkfepp3JqM6K9YRmRHfpb8YF9ovSj7AzEZO2qgF4Qo3DWqsulxQO1LicenpWPlQVwHe6ZUC3TPTKfNVqYKN9Y6UGGmy9q3AYYbcTlV8bTSz2uYlrHGXMiclk9hKsHs3OO5bcLlZg3T+h19aFSAj0JmIymAXgDZZPR17v9wplvKwQQgSoB7Yi7PF/21mn4zTEkhMdQG1ZAZaSzalwIxmVUT/3XzrRkTAYpS3TAAAAAElFTkSuQmCC"},"4a7f":function(t,e,s){},"6c95":function(t,e,s){"use strict";s("4a7f")},"759f":function(t,e,s){"use strict";var i=s("5ca1"),n=s("0a49")(3);i(i.P+i.F*!s("2f21")([].some,!0),"Array",{some:function(t){return n(this,t,arguments[1])}})},fdce:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"examination-wrap bg-f5"},[e("div",{staticClass:"examination pt20 pb20 clearfix"},[e("div",{staticClass:"examination-left fl"},[e("div",{staticClass:"bg-white pad15 mb20"},[e("div",{staticClass:"clearfix bor-bottom-eee pb15 pt10"},[e("h1",{staticClass:"fl fz26 fb"},[t._v(t._s(t.form.examName))]),e("span",{staticClass:"tag fr"},[t._v("答题中")])]),e("div",{staticClass:"pt10"},[e("p",{staticClass:"color-666"},[t._v(t._s(t.form.examDesc))])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.checked&&t.errorQuestions.length>0||!t.checked&&t.questionList.length>0,expression:"(checked && errorQuestions.length > 0) || (!checked && questionList.length > 0)"}],staticClass:"bg-white pad15 mb20"},[e("div",{staticClass:"bor-bottom-eee pb20 pt10 pl10"},[e("span",{staticClass:"title-2"},[t._v("单选题")]),e("el-checkbox",{staticStyle:{float:"right"},attrs:{label:"显示中文"},model:{value:t.isShowCn,callback:function(e){t.isShowCn=e},expression:"isShowCn"}})],1),e("div",{staticClass:"topic"},[e("div",{staticClass:"topic-item clearfix"},[e("div",{staticClass:"topic-item-label fl"},[e("div",{staticClass:"inlineb tc"},[e("span",{staticStyle:{height:"18px","background-color":"#2771ea","border-radius":"3px","line-height":"18px",color:"#fff",padding:"0 6px"}},[t._v(t._s(t.currentQuestionIndex+1))])])]),e("div",{staticClass:"topic-item-block fl"},[e("div",{staticClass:"clearfix"},[e("pre",{staticClass:"fl",staticStyle:{width:"calc(100% - 60px)"}},[t._v(t._s(t.form.questionNameEn))]),e("div",{staticClass:"fr"},[e("span",{staticClass:"topic-item-score mr10"},[t._v(t._s(t.form.questionPoint)+"分")]),"1"===t.form.favorites?e("i",{staticClass:"iconfont icon-shoucang_shixin",staticStyle:{color:"#ff5930",cursor:"pointer"},on:{click:function(e){return t.handleSign(t.form)}}}):e("i",{staticClass:"iconfont icon-shoucang",staticStyle:{color:"#999",cursor:"pointer"},on:{click:function(e){return t.handleSign(t.form)}}})])]),t.isShowCn?e("p",{staticClass:"color-999 mt5"},[t._v(t._s(t.form.questionNameCn))]):t._e(),e("el-radio-group",{staticClass:"mt10",model:{value:t.form.selectAnswer,callback:function(e){t.$set(t.form,"selectAnswer",e)},expression:"form.selectAnswer"}},t._l(t.form.answerList,(function(s,i){return e("el-radio",{key:i,staticClass:"mb5",attrs:{label:s.id,disabled:!t.inAnswer}},[e("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[e("p",{staticClass:"color-666"},[t._v(t._s(s.answerContentEn))]),t.isShowCn?e("p",{staticClass:"color-999"},[t._v(t._s(s.answerContentCn))]):t._e()])])})),1),t.getSubmitFlag()?e("div",{staticClass:"bor-top-eee mt10"},[e("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[e("p",{staticClass:"color-999 pt15 pb15"},[t._v("正确答案："),e("span",{staticStyle:{color:"#46c37b"}},[t._v(t._s(t.getAnswerKey(t.form,t.form["correctAnswer"])))]),t._v("， 你的答案： "),e("span",{staticStyle:{color:"#ff5c2f"}},[t._v(t._s(t.getAnswerKey(t.form,t.form["selectAnswer"])?t.getAnswerKey(t.form,t.form["selectAnswer"]):"未作答"))])]),t.form.videoUrl?e("div",{staticStyle:{color:"#2771ea"}},[e("i",{staticClass:"iconfont icon-shipinbofang mr5"}),e("span",{staticStyle:{"margin-top":"5px",display:"inline-block",color:"#2771ea",cursor:"pointer"},on:{click:function(e){return t.handleViewVideo(t.form)}}},[t._v("查看讲解视频")])]):t._e()]),e("div",{staticClass:"pt10 pb10 pl15 pr20",staticStyle:{"background-color":"#f5f7fb",display:"flex"}},[e("div",{staticStyle:{width:"55px"}},[t._v("解析：")]),t.form.clarify?e("div",{staticClass:"color-999",class:!t.form.isSpread&&"clarify-spread",staticStyle:{flex:"1"},domProps:{innerHTML:t._s(decodeURI(t.form.clarify))}}):e("div",{staticClass:"color-999"},[t._v("暂无解析")])]),t.form.clarify?e("div",{staticClass:"tr pr20 pb10",staticStyle:{"background-color":"#f5f7fb"}},[e("span",{staticStyle:{color:"#2771ea",cursor:"pointer"},on:{click:function(e){return t.handleSpread(t.form)}}},[t._v(t._s(t.form.isSpread?"收起":"查看更多 >"))])]):t._e()]):t._e()],1)]),e("div",{staticClass:"tc pt20 pb10"},[e("button",{staticClass:"theme-btn mr20",attrs:{disabled:0===t.currentQuestionIndex},on:{click:t.handlePrev}},[t._v("上一题")]),e("button",{staticClass:"theme-btn mr20",attrs:{disabled:t.getSubmitFlag()},on:{click:t.handleSubmit}},[t._v("提交答案")]),e("button",{staticClass:"theme-btn mr20",attrs:{disabled:t.currentQuestionIndex===t.questionList.length-1||t.questionList.length&&"3"===t.questionList[t.currentQuestionIndex].status},on:{click:t.handleNext}},[t._v("下一题")]),e("button",{staticClass:"theme-btn",attrs:{disabled:t.currentQuestionIndex===t.questionList.length-1},on:{click:t.handleUnanswer}},[t._v("未做题目")])])])])]),e("div",{staticClass:"examination-right fr"},[e("div",{staticClass:"examination-right-fixed"},[e("div",{staticClass:"pad15 br4 bg-white",attrs:{id:"answerSheet"}},[e("div",{staticClass:"bor-bottom-eee pb10"},[e("span",{staticClass:"title-2 fb"},[t._v("答题卡")]),t.inAnswer?e("span",{staticClass:"fr theme-color",staticStyle:{cursor:"pointer"},on:{click:function(e){t.isShowAnswerSheet=!t.isShowAnswerSheet}}},[t._v("收起/展开答题卡>>")]):t._e()]),t._m(0),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowAnswerSheet,expression:"!isShowAnswerSheet"}],staticClass:"answer-sheet-wrap pt20"},[e("div",{staticClass:"answer-sheet"},t._l(t.questionList,(function(s,i){return e("a",{key:i,class:[t.getStatusClass(s)],on:{click:function(e){return t.goAnchor(s)}}},[t._v("\n                "+t._s(i+1)+"\n              ")])})),0)]),e("div",{staticClass:"pad15 tc"},[e("button",{staticClass:"theme-btn",on:{click:t.handleRedo}},[t._v("重 做")]),e("button",{staticClass:"theme-btn",staticStyle:{"margin-left":"15px"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("返 回")])])])])])]),e("div",{staticClass:"go-answer-sheet",on:{click:function(e){return t.goAnchor("answerSheet")}}},[e("img",{attrs:{src:s("31b5"),alt:""}})]),t.dialogVisible?e("el-dialog",{attrs:{visible:t.dialogVisible,title:"视频解释",width:"800px","append-to-body":"","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticStyle:{width:"100%",height:"400px",overflow:"hidden"}},[t.dialogVisible?e("video",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"player-container",preload:"auto",width:"100%",height:"400",playsinline:"","webkit-playsinline":"","x5-playsinline":""}}):t._e()])]):t._e()],1)},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"ibs-card-body__explain pt10"},[e("span",{staticClass:"ibs-success-bg"}),e("small",[t._v("正确")]),e("span",{staticClass:"ibs-danger-bg"}),e("small",[t._v("错误")]),e("span",{staticClass:"ibs-tip-bg"}),e("small",[t._v("未答")])])}],r=(s("28a5"),s("6d67"),s("759f"),s("cabd")),a={name:"Examination",components:{},data:function(){return{inAnswer:!0,isShowAnswerSheet:!1,radio:"",checked:"",questions:[],questionList:[],errorQuestions:[],fixed:!1,form:{},remainingTime:"",remainingTimeS:"",timer:null,overForm:{},inputValue:"",dialogVisible:!1,isShowCn:!1,player:null,currentQuestionId:"",currentAnswerId:void 0,currentTypes:"1",currentQuestionIndex:0}},created:function(){var t=this;this.GetSequenceExam("first"),window.onscroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop;t.fixed=e>160}},methods:{handleViewVideo:function(t){var e=this;t.videoUrl?(this.dialogVisible=!0,setTimeout((function(){e.player=TCPlayer("player-container",{fileID:t.videoUrl,appID:"1309193717",psign:t.videoSign})}),1e3)):this.$message.error("视频不存在")},handleClose:function(){this.dialogVisible=!1,this.player&&this.player.dispose(),this.player=null},handleSpread:function(t){t.isSpread=!t.isSpread,this.$forceUpdate()},GetSequenceExam:function(t){var e=this,s={userId:this.$store.state.user.userId,questionId:this.currentQuestionId,examId:this.$route.query.id,types:this.currentTypes,answerId:this.currentAnswerId};"next"===t&&(s.nextStatus="3"),Object(r["j"])(s).then((function(s){e.form=s,e.questionList=s.questionList||[],"first"===t&&e.questionList.some((function(t,s){if("3"===t.status)return e.currentQuestionIndex=s,e.currentQuestionId=t.questionId,!0})),e.getIndex(),e.$forceUpdate()}))},getAnswerKey:function(t,e){var s="";return t&&t.answerList&&t.answerList.map((function(t){t.id===e&&(s=t.answerContentEn.split(".")[0])})),s},handleSign:function(t){var e=this,s=t.favorites;s="1"===t.favorites?"0":"1",Object(r["b"])({questionId:t.questionId,favStatus:s,userId:this.$store.state.user.userId}).then((function(i){1===i.status?(t.favorites=s,"1"===s?e.$message.success("收藏成功！"):e.$message.success("取消收藏成功！")):e.$message.error(i.msg),e.$forceUpdate()}))},getStatusClass:function(t){var e="";switch(t.status){case"1":e="ibs-success-bg";break;case"0":e="ibs-danger-bg";break;case"3":e="ibs-tip-bg";break}return e},goAnchor:function(t){"string"===typeof t?document.querySelector("#"+t).scrollIntoView({behavior:"smooth"}):"0"!==t.status&&"1"!==t.status||(this.currentQuestionId=t.questionId,this.currentAnswerId=t.answerId,this.GetSequenceExam("index"))},handleAnswer:function(){this.inAnswer=!0,this.init()},handleBack:function(){this.$router.push({path:"/personal/exercise"})},handleRedo:function(){var t=this;this.$confirm("确定要重做吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["h"])({userId:t.$store.state.user.userId,examId:t.$route.query.id}).then((function(e){1==e.status?(t.$message.success("重置成功！"),t.currentQuestionId="",t.currentQuestionIndex=0,t.GetSequenceExam()):t.$message.error(e.msg)}))}))},handleSubmit:function(){var t=this;this.form.selectAnswer?this.$confirm("确定要提交吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["j"])({userId:t.$store.state.user.userId,questionId:t.form.questionId,answerId:t.form.selectAnswer,answerSequence:t.form.answerSequence,examId:t.$route.query.id,types:t.currentTypes}).then((function(e){t.form=e,t.questionList=e.questionList||[],t.getIndex()}))})):this.$alert("请选择答案后在提交","提示")},getIndex:function(){var t=this;this.questionList.length&&this.questionList.map((function(e,s){e.questionId===t.currentQuestionId&&(t.currentQuestionIndex=s)}))},handlePrev:function(){this.currentQuestionIndex--,this.currentQuestionId=this.questionList[this.currentQuestionIndex].questionId,this.currentAnswerId=this.questionList[this.currentQuestionIndex].answerId,this.GetSequenceExam("prev")},handleNext:function(){"3"!==this.questionList[this.currentQuestionIndex].status?(this.currentQuestionIndex++,this.currentQuestionId=this.questionList[this.currentQuestionIndex].questionId,this.currentAnswerId=this.questionList[this.currentQuestionIndex].answerId,console.log(this.questionList[this.currentQuestionIndex].status),"3"===this.questionList[this.currentQuestionIndex].status?this.GetSequenceExam("next"):this.GetSequenceExam()):this.$message.error("请提交完之后在进行下一题！")},handleUnanswer:function(){var t=this;this.currentQuestionIndex++,this.currentQuestionId=this.questionList[this.currentQuestionIndex].questionId,this.questionList.some((function(e,s){if("3"===e.status)return t.currentQuestionIndex=s,t.currentQuestionId=e.questionId,t.GetSequenceExam(),!0}))},getSubmitFlag:function(){return this.questionList.length&&this.questionList[this.currentQuestionIndex]&&("0"===this.questionList[this.currentQuestionIndex].status||"1"===this.questionList[this.currentQuestionIndex].status)}}},o=a,c=(s("6c95"),s("2877")),l=Object(c["a"])(o,i,n,!1,null,"78c5c064",null);e["default"]=l.exports}}]);